<!DOCTYPE html>
<html>
  <head>
    <title>Print Generic</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://outfit-assets-production.s3.amazonaws.com/fonts/neuePlak/stylesheet.css" rel="stylesheet">    
    <link rel="stylesheet" type="text/css" href="global.css" />
    <link rel="stylesheet" type="text/css" href="main.css">
    <style type="text/css">
      :root {
        --black: #000000;
        --dark-gray: #313e49;
       	--gray: #939598;
        --light-gray: #F6F7F7;
        --white: #ffffff;
        --dark-orange: #f96702;
        --bright-orange: #ff8400;
        --mint: #00a3af;
        --slate: #305868;

        --primary: #00a7e0;
      }
      
      /*.test {
        background: url('https://files.outfit.io/media_library_items/108120/Cloudera_Datasheet_Template_2019_101-1.png') top center no-repeat;
        background-size: contain;
        opacity: .5;
        z-index: 9;
      }*/
      
      .sidebar-quote {
        background-color: {{{account.colors.light-gray}}};
        padding: 10pt;
        margin-top: 15pt;
      }
      
      .sidebar-quote h2 {
        color: {{{account.colors.cloudera-blue--new-}}};
        font-size: 9pt;
        line-height: 1.4em;
        margin-bottom: 6pt;
        font-weight: normal;
      }
      
      .sidebar-quote p {
        font-size: 8pt;
        font-weight: normal;
        line-height: 1.3;
      }
    </style>  
  </head>
  <body style="background: white">
    <div class="page page-front">
      <div class="bleed">
        <div class="fit test .d-none"></div>
        <div class="fit wrapper">
          <div class="page-header">
            <div class="logos">
              <div class="cloudera-logo">
                <img src="{{{account.logos.New_2019_Colour_Cropped}}}">
              </div>
            </div>
          	<div class="box-limit p document-type">
              <div class="box-inner">
                <p>{{{Document-Type}}}</p>
              </div>
            </div>
          </div>
          <div class="masthead">            
            {{#Subheading}}
            <div class="box-limit h2 subheading">
              <div class="box-inner">
                <h2>{{{Subheading}}}</h2>
              </div>
            </div>
            {{/Subheading}}
            {{#Title}}
            <div class="box-limit h1 title">
              <div class="box-inner">
                <h1>{{{Title}}}</h1>
              </div>
            </div>
            {{/Title}}
          </div>
          <div class="main">
            <div class="dynamic-full-height">
              <div class="box-limit sidebar">
                <div class="box-inner">
                  {{#collection.sidebar-page-one}}
                  {{#block.text}}         
                  <div class="widget has-border">
                    <div class="border"></div>
                    {{{sidebar}}}
                    <div class="border border-bottom"></div>
                  </div>                
                  {{/block.text}}
                  {{#block.quote}}
                  <div class="sidebar-quote">
                    <h2>&ldquo;{{{ quote-text }}}&rdquo;</h2>
                    <p>{{{ quote-attribution }}}</p>
                  </div>
                  {{/block.quote}}
                  {{/collection.sidebar-page-one}}
                </div>
              </div>
              <div class="box-limit content">
                <div class="box-inner">
                  {{{front-page-copy}}}
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="fit boundary-l"></div>
        <div class="fit boundary-r"></div>
        <div class="fit boundary-b"></div>
        <div class="fit boundary-t"></div>
      </div>
    </div>    

    {{#collection.Internal-Pages}}
    <!--Additional Pages-->
    <div class="page page-internal">
      <div class="bleed">
        <div class="fit wrapper">
          <div class="page-header">
            <div class="logos"></div>
            <div class="document-type p js"></div>
          </div>
          <div class="main">
            <div class="dynamic-full-height content" style="flex-direction: column; justify-content: flex-start; width: 100%;">
              {{#page-heading}}
              <div class="box-limit h2 page-heading">
                <div class="box-inner">
                  <h2>{{{page-heading}}}</h2>
                </div>
              </div>
              {{/page-heading}}
              <div style="flex: 1; width: 100%; position: relative;">
                <div class="dynamic-full-height">
                  <div class="multi-columns three-columns" style="height: 100%; width: 100%;">
                    {{{page-copy}}}
                  </div>
                </div>
              </div>
            </div>            
          </div>
        </div>
        <div class="fit boundary-l"></div>
        <div class="fit boundary-r"></div>
        <div class="fit boundary-b"></div>
        <div class="fit boundary-t"></div>
      </div>
    </div>
    <!--End of Additional Pages-->
    {{/collection.Internal-Pages}}

    <div class="page page-internal back">
      <div class="bleed">
        <div class="fit test d-none"></div>
        <div class="fit wrapper">
          <div class="page-header">
            <div class="logos"></div>
          	<div class="document-type p js"></div>
          </div>
          <div class="main">            
            <div class="dynamic-full-height">
              <!--<div class="box-limit sidebar">
                <div class="box-inner">
                  {{#more-info}}
                  <div class="widget more-info">
                    {{{more-info}}}
                  </div>
                  {{/more-info}}
                  {{#about-us}}
                  <div class="widget about">
                    {{{about-us}}}
                  </div>
                  {{/about-us}}
                </div>
              </div>-->
              <div class="box-limit content" style="width: 100%; height: 100%;">
                <div class="box-inner multi-columns three-columns" style="height: 100%;">
                  {{{back-page-copy}}}
                </div>
              </div>
            </div>            
          </div>
          <div class="page-footer">
            <div class="logos">
              <div class="cloudera-logo">
                <img src="{{{account.logos.New_2019_Colour_Cropped}}}">
              </div>
            </div>
            <div class="info">
              <h3>{{{ company }}}  {{{ adress }}} <a href="#" target="blank" class="website">{{{ website }}}</a></h3>
              <p>{{{ details }}}</p>
            </div>
          </div>
        </div><!--wrapper-->
        <div class="fit boundary-l"></div>
        <div class="fit boundary-r"></div>
        <div class="fit boundary-b"></div>
        <div class="fit boundary-t"></div>
      </div><!--bleed-->
    </div><!--page-->

    <script src="prefixfree.js"></script>
    <script>
      window.showCrop = {{show-crop}};
      window.documentTypeHtml = '<p>{{{Document-Type}}}</p>';
      
      function cropMarks(showCrop) {
        if (showCrop) {
          document.querySelector('body').classList.add('crop');
        }

        Array.prototype.slice.call(document.querySelectorAll('.page')).forEach(function (page) {
          const parser = new DOMParser();
          const cropString = '<div class="crop-marks"><span class="cm1"></span><span class="cm2"></span><span class="cm3"></span><span class="cm4"></span></div>';
          const cropNode = parser.parseFromString(cropString, "text/html").body.firstChild;
          !!showCrop && page.insertBefore(cropNode, null);
        });
      }
      
      function documentType() {
        Array.prototype.slice.call(document.querySelectorAll('.document-type.js')).forEach(function (e) {
          e.innerHTML = documentTypeHtml;
        });
      }

      function heightObservable() {
        Array.prototype.slice.call(document.querySelectorAll('.box-limit .box-inner')).forEach(function (e) {
          checkHeight(e);
        });
      }

      function widthObservable() {
        Array.prototype.slice.call(document.querySelectorAll('.box-width-limit .box-inner')).forEach(function (e) {
          checkWidth(e);
        });
      }

      function checkHeight(element) {
        const elementHeight = element.getBoundingClientRect().height;
        const parent = element.parentElement;
        const parentHeight = parent.getBoundingClientRect().height;

        if (elementHeight > parentHeight) {
          parent.classList.add('overflow');
        } else {
          parent.classList.remove('overflow');
        }
      }

      function checkWidth(element) {
        const elementWidth = element.getBoundingClientRect().width;
        const parent = element.parentElement;
        const parentWidth = parent.getBoundingClientRect().width;

        if (elementWidth > parentWidth) {
          parent.classList.add('overflow');
        } else {
          parent.classList.remove('overflow');
        }
      }
      
      cropMarks(showCrop);

      window.addEventListener('resize', function () {
        setSize();
      });

      window.addEventListener('load', function () {
        documentType();
        heightObservable();
        widthObservable();        
      });

      window.addEventListener('DOMSubtreeModified', function () {
        heightObservable();
        widthObservable();
      });    
    </script>    
  </body>
</html>